<% layout('layouts/boilerplate') %>
<section class="form-wrapper">
  <h1>Edit Task</h1>
  <form action="/dashboard/<%= task._id %>?_method=PUT" method="POST" class="form-card">
    <label for="title">Title *</label>
    <input id="title" type="text" name="task[title]" value="<%= task.title %>" required />

    <label for="description">Description</label>
    <textarea id="description" name="task[description]"><%= task.description %></textarea>


    <label for="category">Category</label>
    <select id="category" name="task[category]">
      <option value="Personal" <%= task.category === 'Personal' ? 'selected' : '' %>>Personal</option>
      <option value="Professional" <%= task.category === 'Professional' ? 'selected' : '' %>>Professional</option>
      <option value="Student" <%= task.category === 'Student' ? 'selected' : '' %>>Student</option>
    </select>

    <label for="priority">Priority</label>
    <select id="priority" name="task[priority]">
      <option value="Low" <%= task.priority === 'Low' ? 'selected' : '' %>>Low</option>
      <option value="Medium" <%= task.priority === 'Medium' ? 'selected' : '' %>>Medium</option>
      <option value="High" <%= task.priority === 'High' ? 'selected' : '' %>>High</option>
    </select>

    <label for="deadline">Deadline</label>
    <input id="deadline" type="date" name="task[deadline]" value="<%= task.deadline ? new Date(task.deadline).toISOString().split('T')[0] : '' %>" />

    <label for="status">Status</label>
    <select id="status" name="task[status]">
      <option value="Pending" <%= task.status === 'Pending' ? 'selected' : '' %>>Pending</option>
      <option value="Completed" <%= task.status === 'Completed' ? 'selected' : '' %>>Completed</option>
    </select>

    <button class="btn" type="submit">Update Task</button>
  </form>
</section>
